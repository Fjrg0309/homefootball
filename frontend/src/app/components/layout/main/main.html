<main class="main">
  <section class="main__container">
    <!-- Barra de búsqueda -->
    <section class="main__search">
      <input 
        type="search" 
        class="main__search-input" 
        placeholder="Buscar equipos, ligas, jugadores..."
        aria-label="Buscar contenido"
        [value]="searchQuery()"
        (input)="onSearchInput($event)"
        (keypress)="onSearchKeypress($event)"
      >
      <button class="main__search-btn" aria-label="Realizar búsqueda" (click)="onSearch()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
      </button>
    </section>

    <!-- Layout con dos columnas -->
    <section class="main__layout">
      <!-- Contenido principal -->
      <section class="main__content">
        <!-- Carrusel de partidos principales -->
        <section class="matches" aria-label="Partidos principales">
          @if (loadingMatches()) {
            <div class="matches__loading" role="status" aria-live="polite">
              <div class="spinner" aria-hidden="true"></div>
              <p>Cargando partidos...</p>
            </div>
          } @else if (matches().length > 0) {
            <app-match-carousel 
              [matches]="matches()"
              title="Partidos principales"
              [itemsPerView]="3"
            />
          } @else {
            <div class="matches__empty" role="status">
              <p>No hay partidos disponibles en este momento</p>
            </div>
          }
        </section>

        <!-- Competiciones a seguir -->
        <section class="competitions">
          <h2 class="competitions__title">Competiciones a seguir</h2>
          <section class="competitions__grid">
            <a routerLink="/liga/laliga" class="competition-card">
              <span class="competition-card__name">LaLiga</span>
            </a>
            
            <a routerLink="/liga/ligue-1" class="competition-card">
              <span class="competition-card__name">Ligue 1</span>
            </a>
            
            <a routerLink="/liga/premier-league" class="competition-card">
              <span class="competition-card__name">Premier League</span>
            </a>
            
            <a routerLink="/liga/primeira-liga" class="competition-card">
              <span class="competition-card__name">Primeira Liga</span>
            </a>
            
            <a routerLink="/liga/serie-a" class="competition-card">
              <span class="competition-card__name">Serie A</span>
            </a>
            
            <a routerLink="/liga/eredivisie" class="competition-card">
              <span class="competition-card__name">Eredivisie</span>
            </a>
            
            <a routerLink="/liga/bundesliga" class="competition-card">
              <span class="competition-card__name">Bundesliga</span>
            </a>
            
            <a routerLink="/liga/super-lig" class="competition-card">
              <span class="competition-card__name">Süper Lig</span>
            </a>
            
            <a routerLink="/liga/mls" class="competition-card">
              <span class="competition-card__name">MLS</span>
            </a>
            
            <a routerLink="/liga/brasileirao" class="competition-card">
              <span class="competition-card__name">Brasileirão</span>
            </a>
            
            <a routerLink="/liga/championship" class="competition-card">
              <span class="competition-card__name">Championship</span>
            </a>
            
            <a routerLink="/liga/ligue-2" class="competition-card">
              <span class="competition-card__name">Ligue 2</span>
            </a>
          </section>
        </section>
      </section>

      <!-- Sidebar de noticias -->
      <section class="main__sidebar-wrapper" aria-label="Noticias destacadas">
        <h2 class="main__sidebar-title">Noticias</h2>
        <aside class="main__sidebar">
          <ul class="main__sidebar-list">
            @for (item of news(); track item.id) {
              <li class="main__sidebar-item">
                <a (click)="goToNews(item.id)" class="main__sidebar-link">{{ item.title }}</a>
              </li>
            }
          </ul>
          <a routerLink="/noticias" class="main__sidebar-more">Ver todas las noticias →</a>
        </aside>
      </section>
    </section>
  </section>
</main>
