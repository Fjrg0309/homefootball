<main class="main">
  <h1 class="visually-hidden">HomeFootball - Portal de fútbol</h1>
  <section class="main__container">
    <!-- Barra de búsqueda -->
    <search class="main__search" role="search">
      <label for="main-search-input" class="visually-hidden">Buscar equipos, ligas o jugadores</label>
      <input 
        id="main-search-input"
        type="search" 
        class="main__search-input" 
        placeholder="Buscar equipos, ligas, jugadores..."
        aria-label="Buscar contenido"
        [value]="searchQuery()"
        (input)="onSearchInput($event)"
        (keypress)="onSearchKeypress($event)"
      >
      <button class="main__search-btn" aria-label="Realizar búsqueda" type="submit" (click)="onSearch()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
      </button>
    </search>

    <!-- Layout con dos columnas -->
    <section class="main__layout">
      <!-- Contenido principal -->
      <section class="main__content">
        <!-- Carrusel de partidos principales -->
        <section class="matches" aria-label="Partidos principales">
          <h2 class="matches__title">Partidos principales</h2>
          @if (loadingMatches()) {
            <div class="matches__loading" role="status" aria-live="polite" aria-busy="true">
              <div class="spinner" aria-hidden="true"></div>
              <p>Cargando partidos...</p>
            </div>
          } @else if (matches().length > 0) {
            <app-match-carousel 
              [matches]="matches()"
              [itemsPerView]="3"
            />
          } @else {
            <div class="matches__empty" role="status">
              <p>No hay partidos disponibles en este momento</p>
            </div>
          }
        </section>

        <!-- Competiciones a seguir -->
        <section class="competitions">
          <h2 class="competitions__title">Competiciones a seguir</h2>
          <section class="competitions__grid">
            <a routerLink="/liga/laliga" class="competition-card" title="Ver LaLiga" aria-label="Ver competición LaLiga">
              <span class="competition-card__name">LaLiga</span>
            </a>
            
            <a routerLink="/liga/ligue-1" class="competition-card" title="Ver Ligue 1" aria-label="Ver competición Ligue 1">
              <span class="competition-card__name">Ligue 1</span>
            </a>
            
            <a routerLink="/liga/premier-league" class="competition-card" title="Ver Premier League" aria-label="Ver competición Premier League">
              <span class="competition-card__name">Premier League</span>
            </a>
            
            <a routerLink="/liga/primeira-liga" class="competition-card" title="Ver Primeira Liga" aria-label="Ver competición Primeira Liga">
              <span class="competition-card__name">Primeira Liga</span>
            </a>
            
            <a routerLink="/liga/serie-a" class="competition-card" title="Ver Serie A" aria-label="Ver competición Serie A">
              <span class="competition-card__name">Serie A</span>
            </a>
            
            <a routerLink="/liga/eredivisie" class="competition-card" title="Ver Eredivisie" aria-label="Ver competición Eredivisie">
              <span class="competition-card__name">Eredivisie</span>
            </a>
            
            <a routerLink="/liga/bundesliga" class="competition-card" title="Ver Bundesliga" aria-label="Ver competición Bundesliga">
              <span class="competition-card__name">Bundesliga</span>
            </a>
            
            <a routerLink="/liga/super-lig" class="competition-card" title="Ver Süper Lig" aria-label="Ver competición Süper Lig">
              <span class="competition-card__name">Süper Lig</span>
            </a>
            
            <a routerLink="/liga/mls" class="competition-card" title="Ver MLS" aria-label="Ver competición MLS">
              <span class="competition-card__name">MLS</span>
            </a>
            
            <a routerLink="/liga/brasileirao" class="competition-card" title="Ver Brasileirão" aria-label="Ver competición Brasileirão">
              <span class="competition-card__name">Brasileirão</span>
            </a>
            
            <a routerLink="/liga/championship" class="competition-card" title="Ver Championship" aria-label="Ver competición Championship">
              <span class="competition-card__name">Championship</span>
            </a>
            
            <a routerLink="/liga/ligue-2" class="competition-card" title="Ver Ligue 2" aria-label="Ver competición Ligue 2">
              <span class="competition-card__name">Ligue 2</span>
            </a>
          </section>
        </section>
      </section>

      <!-- Sidebar de noticias -->
      <section class="main__sidebar-wrapper" aria-label="Noticias destacadas">
        <h2 class="main__sidebar-title">Noticias</h2>
        <aside class="main__sidebar">
          <ul class="main__sidebar-list">
            @for (item of news(); track item.id) {
              <li class="main__sidebar-item">
                <a 
                  [routerLink]="['/noticia', item.id]"
                  class="main__sidebar-link"
                  [attr.aria-label]="'Leer noticia: ' + item.title"
                >{{ item.title }}</a>
              </li>
            }
          </ul>
          <a routerLink="/noticias" class="main__sidebar-more" aria-label="Ver todas las noticias">Ver todas las noticias →</a>
        </aside>
      </section>
    </section>
  </section>
</main>
