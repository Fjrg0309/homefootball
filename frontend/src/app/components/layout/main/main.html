<main class="main">
  <section class="main__container">
    <!-- Barra de búsqueda -->
    <section class="main__search">
      <input 
        type="search" 
        class="main__search-input" 
        placeholder="Buscar equipos, ligas, jugadores..."
        aria-label="Buscar contenido"
        [value]="searchQuery()"
        (input)="onSearchInput($event)"
        (keypress)="onSearchKeypress($event)"
      >
      <button class="main__search-btn" aria-label="Realizar búsqueda" (click)="onSearch()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
      </button>
    </section>

    <!-- Layout con dos columnas -->
    <section class="main__layout">
      <!-- Contenido principal -->
      <section class="main__content">
        <!-- Partidos principales -->
        <section class="matches">
          <h2 class="matches__title">Partidos principales</h2>
          
          @if (loadingMatches()) {
            <div class="matches__loading">
              <div class="spinner"></div>
              <p>Cargando partidos...</p>
            </div>
          } @else {
            <section class="matches__grid">
              @for (match of matches(); track match.id) {
                <article class="match-card" (click)="goToMatch(match.id)">
                  <section class="match-card__teams">
                    <section class="match-card__team">
                      @if (match.homeLogo) {
                        <img [src]="match.homeLogo" [alt]="match.homeTeam" class="match-card__logo">
                      }
                      <span class="match-card__name">{{ match.homeTeamShort }}</span>
                    </section>
                    <section class="match-card__score">{{ getScoreDisplay(match) }}</section>
                    <section class="match-card__team">
                      @if (match.awayLogo) {
                        <img [src]="match.awayLogo" [alt]="match.awayTeam" class="match-card__logo">
                      }
                      <span class="match-card__name">{{ match.awayTeamShort }}</span>
                    </section>
                  </section>
                  <span class="match-card__status">{{ getMatchStatus(match) }}</span>
                </article>
              }
              
              @if (matches().length === 0) {
                <p class="matches__empty">No hay partidos disponibles</p>
              }
            </section>
          }
        </section>

        <!-- Competiciones a seguir -->
        <section class="competitions">
          <h2 class="competitions__title">Competiciones a seguir</h2>
          <section class="competitions__grid">
            <a routerLink="/liga/laliga" class="competition-card">
              <span class="competition-card__name">LaLiga</span>
            </a>
            
            <a routerLink="/liga/ligue-1" class="competition-card">
              <span class="competition-card__name">Ligue 1</span>
            </a>
            
            <a routerLink="/liga/premier-league" class="competition-card">
              <span class="competition-card__name">Premier League</span>
            </a>
            
            <a routerLink="/liga/primeira-liga" class="competition-card">
              <span class="competition-card__name">Primeira Liga</span>
            </a>
            
            <a routerLink="/liga/serie-a" class="competition-card">
              <span class="competition-card__name">Serie A</span>
            </a>
            
            <a routerLink="/liga/eredivisie" class="competition-card">
              <span class="competition-card__name">Eredivisie</span>
            </a>
            
            <a routerLink="/liga/bundesliga" class="competition-card">
              <span class="competition-card__name">Bundesliga</span>
            </a>
            
            <a routerLink="/liga/super-lig" class="competition-card">
              <span class="competition-card__name">Süper Lig</span>
            </a>
            
            <a routerLink="/liga/mls" class="competition-card">
              <span class="competition-card__name">MLS</span>
            </a>
            
            <a routerLink="/liga/liga-mx" class="competition-card">
              <span class="competition-card__name">Liga MX</span>
            </a>
            
            <a routerLink="/liga/championship" class="competition-card">
              <span class="competition-card__name">Championship</span>
            </a>
            
            <a routerLink="/liga/ligue-2" class="competition-card">
              <span class="competition-card__name">Ligue 2</span>
            </a>
          </section>
        </section>
      </section>

      <!-- Sidebar de noticias -->
      <section class="main__sidebar-wrapper" aria-label="Noticias destacadas">
        <h2 class="main__sidebar-title">Noticias</h2>
        <aside class="main__sidebar">
          <ul class="main__sidebar-list">
            @for (item of news(); track item.id) {
              <li class="main__sidebar-item">
                <a (click)="goToNews(item.id)" class="main__sidebar-link">{{ item.title }}</a>
              </li>
            }
          </ul>
          <a routerLink="/noticias" class="main__sidebar-more">Ver todas las noticias →</a>
        </aside>
      </section>
    </section>
  </section>
</main>
