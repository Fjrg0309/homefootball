<section class="minilanding" aria-label="Informacion adicional de la landing">
  <!-- Estado de carga -->
  @if (loading) {
    <aside class="minilanding__loading" aria-busy="true" aria-live="polite">
      <span class="minilanding__spinner" role="status"></span>
      <p>Cargando informacion...</p>
    </aside>
  }

  <!-- Estado de error -->
  @if (error && !loading) {
    <aside class="minilanding__error" role="alert">
      <span class="minilanding__error-icon" aria-hidden="true"></span>
      <p>{{ error }}</p>
      <p class="minilanding__error-hint">Inicia sesion para ver la informacion completa.</p>
    </aside>
  }

  <!-- Contenido principal cuando hay datos -->
  @if (!loading && !error) {
    <!-- Seccion: Equipo Destacado con Escudo -->
    @if (equipoDestacado) {
      <article class="minilanding__equipo" aria-labelledby="equipo-title">
        <header class="minilanding__equipo-header">
          <h2 id="equipo-title" class="minilanding__section-title">
            <span class="minilanding__icon minilanding__icon--trophy" aria-hidden="true"></span>
            Equipo Destacado
          </h2>
        </header>
        
        <figure class="minilanding__equipo-content">
          <!-- Escudo del equipo -->
          <img 
            [src]="equipoDestacado.escudoUrl" 
            [alt]="'Escudo de ' + equipoDestacado.nombre"
            class="minilanding__escudo"
            loading="lazy"
          />
          
          <!-- Informacion del equipo -->
          <figcaption class="minilanding__equipo-info">
            <h3 class="minilanding__equipo-nombre">{{ equipoDestacado.nombre }}</h3>
            <dl class="minilanding__equipo-detalles">
              <dt class="minilanding__label">Liga:</dt>
              <dd class="minilanding__value">{{ equipoDestacado.ligaNombre }}</dd>
              
              <dt class="minilanding__label">Fundado:</dt>
              <dd class="minilanding__value">{{ equipoDestacado.fechaFundacion }}</dd>
              
              <dt class="minilanding__label">Entrenador:</dt>
              <dd class="minilanding__value">{{ equipoDestacado.entrenadorNombre }}</dd>
              
              <dt class="minilanding__label">Jugadores:</dt>
              <dd class="minilanding__value">{{ equipoDestacado.totalJugadores }}</dd>
            </dl>
          </figcaption>
        </figure>
      </article>
    }

    <!-- Seccion: Usuarios Registrados -->
    <article class="minilanding__usuarios" aria-labelledby="usuarios-title">
      <header class="minilanding__usuarios-header">
        <h2 id="usuarios-title" class="minilanding__section-title">
          <span class="minilanding__icon minilanding__icon--users" aria-hidden="true"></span>
          Comunidad HomeFootball
        </h2>
      </header>
      
      <section class="minilanding__stats">
        <p class="minilanding__stat-card">
          <strong class="minilanding__stat-number">{{ totalUsuarios }}</strong>
          <span class="minilanding__stat-label">Usuarios registrados</span>
        </p>
      </section>

      @if (usuarios && usuarios.length > 0) {
        <section class="minilanding__usuarios-lista" aria-labelledby="miembros-title">
          <h3 id="miembros-title" class="minilanding__usuarios-title">Miembros de la comunidad:</h3>
          <ul class="minilanding__usuarios-grid" role="list">
            @for (usuario of usuarios; track usuario.id) {
              <li class="minilanding__usuario-item">
                <abbr class="minilanding__usuario-avatar" [title]="usuario.username">
                  {{ usuario.username.charAt(0).toUpperCase() }}
                </abbr>
                <span class="minilanding__usuario-name">{{ usuario.username }}</span>
              </li>
            }
          </ul>
        </section>
      } @else {
        <p class="minilanding__empty">
          Inicia sesion para ver la lista de miembros de la comunidad.
        </p>
      }
    </article>
  }
</section>
