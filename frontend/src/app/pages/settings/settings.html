<app-header />

<main class="settings">
  <section class="settings__container">
    
    <!-- Contenido de configuración -->
    <h1 class="settings__title">Configuración</h1>

    <!-- Opciones de configuración -->
    <div class="settings__options">
      
      <!-- Idioma -->
      <div class="settings__option">
        <label class="settings__label" for="language">Idioma</label>
        <select 
          id="language" 
          class="settings__select"
          [value]="selectedLanguage()"
          (change)="onLanguageChange($event)"
        >
          @for (lang of languages; track lang) {
            <option [value]="lang">{{ lang }}</option>
          }
        </select>
      </div>

      <!-- Notificaciones -->
      <div class="settings__option">
        <label class="settings__label">Notificaciones</label>
        <button 
          type="button"
          class="settings__toggle-btn"
          [class.settings__toggle-btn--active]="notificationsEnabled()"
          (click)="toggleNotifications()"
          [title]="notificationsEnabled() ? 'Desactivar notificaciones' : 'Activar notificaciones'"
          [attr.aria-label]="notificationsEnabled() ? 'Notificaciones activadas, clic para desactivar' : 'Notificaciones desactivadas, clic para activar'"
        >
          {{ notificationsEnabled() ? 'Activadas' : 'Desactivadas' }}
        </button>
      </div>

    </div>

    <!-- Botones de acción -->
    @if (isLoggedIn()) {
      <div class="settings__actions">
        <button 
          type="button" 
          class="settings__btn settings__btn--logout"
          (click)="logout()"
          title="Cerrar tu sesión actual"
          aria-label="Cerrar sesión"
        >
          Cerrar sesión
        </button>
        
        <button 
          type="button" 
          class="settings__btn settings__btn--delete"
          (click)="deleteAccount()"
          title="Eliminar tu cuenta permanentemente"
          aria-label="Borrar cuenta"
        >
          Borrar cuenta
        </button>
      </div>
    } @else {
      <div class="settings__login-prompt">
        <p class="settings__login-text">Inicia sesión para acceder a más opciones</p>
        <a routerLink="/" 
           class="settings__btn settings__btn--primary"
           title="Volver a la página de inicio"
           aria-label="Ir a la página de inicio">
          Ir al inicio
        </a>
      </div>
    }

  </section>
</main>

<app-footer />
