<div class="interactive-components-container">
  <h1>Tarea 3: Componentes Interactivos Funcionales</h1>

  <!-- Secci√≥n 1: Men√∫ Hamburguesa -->
  <section class="seccion">
    <h2>1. Men√∫ Hamburguesa</h2>
    <p class="descripcion">
      Men√∫ lateral que se abre/cierra con un bot√≥n. Se cierra autom√°ticamente al hacer click fuera del men√∫ usando <code>@HostListener</code>.
    </p>

    <div class="ejemplo-box">
      <div class="hamburger-demo">
        <!-- Bot√≥n hamburguesa -->
        <button class="hamburger-button" (click)="toggleMenu()" [class.active]="isMenuOpen">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <div class="demo-info">
          <p><strong>Estado:</strong> {{ isMenuOpen ? 'üü¢ Abierto' : 'üî¥ Cerrado' }}</p>
          <p class="hint">üí° Click en el bot√≥n para abrir/cerrar. El men√∫ se cerrar√° autom√°ticamente si haces click fuera.</p>
        </div>

        <!-- Men√∫ lateral -->
        <nav class="hamburger-menu" [class.open]="isMenuOpen">
          <div class="menu-header">
            <h3>üì± Men√∫ de Navegaci√≥n</h3>
            <button class="close-button" (click)="closeMenu()">‚úï</button>
          </div>
          <ul class="menu-list">
            @for (item of menuItems; track item.label) {
              <li>
                <a [href]="item.link" (click)="closeMenu()">
                  <span class="menu-icon">{{ item.icon }}</span>
                  <span>{{ item.label }}</span>
                </a>
              </li>
            }
          </ul>
        </nav>

        <!-- Overlay (fondo oscuro) -->
        <div class="menu-overlay" [class.visible]="isMenuOpen" (click)="closeMenu()"></div>
      </div>
    </div>

    <div class="code-info">
      <h4>C√≥digo TypeScript:</h4>
      <pre><code>isMenuOpen = false;

toggleMenu() &#123;
  this.isMenuOpen = !this.isMenuOpen;
&#125;

// Cerrar al hacer click fuera
@HostListener('document:click', ['$event'])
onDocumentClick(event: MouseEvent) &#123;
  if (this.isMenuOpen && !menuContiene(event.target)) &#123;
    this.isMenuOpen = false;
  &#125;
&#125;</code></pre>
      <h4>Template HTML:</h4>
      <pre><code>&lt;nav [class.open]="isMenuOpen"&gt;
  &lt;!-- Contenido del men√∫ --&gt;
&lt;/nav&gt;</code></pre>
    </div>
  </section>

  <!-- Secci√≥n 2: Modales -->
  <section class="seccion">
    <h2>2. Modal (con cierre ESC)</h2>
    <p class="descripcion">
      Modal que se puede cerrar haciendo click fuera, en el bot√≥n de cerrar, o presionando la tecla <code>ESC</code> usando <code>@HostListener</code>.
    </p>

    <div class="ejemplo-box">
      <button class="btn btn-primary" (click)="openModal()">
        ü™ü Abrir Modal
      </button>

      <div class="demo-info" style="margin-top: 1rem;">
        <p><strong>Estado del Modal:</strong> {{ isModalOpen ? 'üü¢ Abierto' : 'üî¥ Cerrado' }}</p>
        <p class="hint">üí° Formas de cerrar: Click en ‚úï, Click fuera del modal, o presionar ESC</p>
      </div>
    </div>

    <!-- Modal -->
    @if (isModalOpen) {
      <div class="modal-backdrop" (click)="onModalBackdropClick($event)">
        <div class="modal-content">
          <div class="modal-header">
            <h3>{{ modalTitle }}</h3>
            <button class="modal-close" (click)="closeModal()">‚úï</button>
          </div>
          <div class="modal-body">
            <p>{{ modalContent }}</p>
            <div class="modal-features">
              <div class="feature">‚úÖ Click en el fondo oscuro para cerrar</div>
              <div class="feature">‚úÖ Click en el bot√≥n ‚úï para cerrar</div>
              <div class="feature">‚úÖ Presiona ESC para cerrar</div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" (click)="closeModal()">Cancelar</button>
            <button class="btn btn-primary" (click)="closeModal()">Aceptar</button>
          </div>
        </div>
      </div>
    }

    <div class="code-info">
      <h4>C√≥digo TypeScript:</h4>
      <pre><code>isModalOpen = false;

openModal() &#123;
  this.isModalOpen = true;
&#125;

closeModal() &#123;
  this.isModalOpen = false;
&#125;

// Cerrar con ESC
@HostListener('document:keydown.escape')
onEscapeKey() &#123;
  if (this.isModalOpen) &#123;
    this.closeModal();
  &#125;
&#125;</code></pre>
      <h4>Template HTML:</h4>
      <pre><code>&#64;if (isModalOpen) &#123;
  &lt;div class="modal-backdrop" (click)="onBackdropClick($event)"&gt;
    &lt;div class="modal-content"&gt;
      &lt;!-- Contenido --&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&#125;</code></pre>
    </div>
  </section>

  <!-- Secci√≥n 3: Tabs -->
  <section class="seccion">
    <h2>3. Tabs (Pesta√±as)</h2>
    <p class="descripcion">
      Sistema de pesta√±as que muestra diferentes paneles de contenido. La pesta√±a activa se controla con una variable <code>activeTab</code>.
    </p>

    <div class="ejemplo-box">
      <div class="tabs-container">
        <!-- Botones de pesta√±as -->
        <div class="tabs-header">
          @for (tab of tabs; track tab.id) {
            <button 
              class="tab-button"
              [class.active]="activeTab === tab.id"
              (click)="selectTab(tab.id)">
              <span class="tab-icon">{{ tab.icon }}</span>
              <span class="tab-label">{{ tab.label }}</span>
            </button>
          }
        </div>

        <!-- Contenido de las pesta√±as -->
        <div class="tabs-content">
          @for (tab of tabs; track tab.id) {
            @if (activeTab === tab.id) {
              <div class="tab-panel" [@fadeIn]>
                <h3>{{ tab.icon }} {{ tab.label }}</h3>
                <p>{{ tab.content }}</p>
                <div class="tab-meta">
                  <small>Pesta√±a activa: <strong>{{ tab.id }}</strong></small>
                </div>
              </div>
            }
          }
        </div>

        <div class="tabs-info">
          <strong>Pesta√±a actual:</strong> {{ activeTab }}
        </div>
      </div>
    </div>

    <div class="code-info">
      <h4>C√≥digo TypeScript:</h4>
      <pre><code>activeTab = 'detalles';

selectTab(tabId: string) &#123;
  this.activeTab = tabId;
&#125;</code></pre>
      <h4>Template HTML:</h4>
      <pre><code>&lt;button 
  [class.active]="activeTab === 'detalles'"
  (click)="selectTab('detalles')"&gt;
  Detalles
&lt;/button&gt;

&#64;if (activeTab === 'detalles') &#123;
  &lt;div&gt;Contenido de Detalles&lt;/div&gt;
&#125;</code></pre>
    </div>
  </section>

  <!-- Secci√≥n 4: Tooltips -->
  <section class="seccion">
    <h2>4. Tooltips</h2>
    <p class="descripcion">
      Tooltips que aparecen al pasar el mouse sobre elementos. Se pueden controlar con eventos <code>(mouseenter)</code> y <code>(mouseleave)</code> o con CSS puro.
    </p>

    <div class="ejemplo-box">
      <div class="tooltips-demo">
        <h4>Tooltips con eventos de Angular:</h4>
        <div class="tooltip-row">
          <!-- Tooltip Arriba -->
          <div class="tooltip-wrapper">
            <button 
              class="btn btn-info"
              (mouseenter)="showTooltip(1)"
              (mouseleave)="hideTooltip(1)">
              üîù Tooltip Arriba
            </button>
            @if (showTooltip1) {
              <div class="tooltip tooltip-top">
                Este es un tooltip que aparece arriba del elemento
              </div>
            }
          </div>

          <!-- Tooltip Derecha -->
          <div class="tooltip-wrapper">
            <button 
              class="btn btn-success"
              (mouseenter)="showTooltip(2)"
              (mouseleave)="hideTooltip(2)">
              ‚û°Ô∏è Tooltip Derecha
            </button>
            @if (showTooltip2) {
              <div class="tooltip tooltip-right">
                Tooltip a la derecha
              </div>
            }
          </div>

          <!-- Tooltip Abajo -->
          <div class="tooltip-wrapper">
            <button 
              class="btn btn-warning"
              (mouseenter)="showTooltip(3)"
              (mouseleave)="hideTooltip(3)">
              üîΩ Tooltip Abajo
            </button>
            @if (showTooltip3) {
              <div class="tooltip tooltip-bottom">
                Tooltip que aparece debajo
              </div>
            }
          </div>

          <!-- Tooltip Izquierda -->
          <div class="tooltip-wrapper">
            <button 
              class="btn btn-danger"
              (mouseenter)="showTooltip(4)"
              (mouseleave)="hideTooltip(4)">
              ‚¨ÖÔ∏è Tooltip Izquierda
            </button>
            @if (showTooltip4) {
              <div class="tooltip tooltip-left">
                Tooltip a la izquierda
              </div>
            }
          </div>
        </div>

        <h4 style="margin-top: 2rem;">Tooltips con CSS puro (hover):</h4>
        <div class="tooltip-row">
          <div class="tooltip-css" data-tooltip="Tooltip solo con CSS - Arriba">
            <button class="btn btn-primary">üé® CSS Arriba</button>
          </div>
          <div class="tooltip-css" data-tooltip="Tooltip CSS - Derecha" data-position="right">
            <button class="btn btn-primary">üé® CSS Derecha</button>
          </div>
          <div class="tooltip-css" data-tooltip="Tooltip CSS - Abajo" data-position="bottom">
            <button class="btn btn-primary">üé® CSS Abajo</button>
          </div>
          <div class="tooltip-css" data-tooltip="Tooltip CSS - Izquierda" data-position="left">
            <button class="btn btn-primary">üé® CSS Izquierda</button>
          </div>
        </div>
      </div>
    </div>

    <div class="code-info">
      <h4>C√≥digo TypeScript (Tooltips con Angular):</h4>
      <pre><code>showTooltip = false;

showTooltip() &#123;
  this.showTooltip = true;
&#125;

hideTooltip() &#123;
  this.showTooltip = false;
&#125;</code></pre>
      <h4>Template HTML:</h4>
      <pre><code>&lt;div class="tooltip-wrapper"&gt;
  &lt;button 
    (mouseenter)="showTooltip()"
    (mouseleave)="hideTooltip()"&gt;
    Hover aqu√≠
  &lt;/button&gt;
  &#64;if (showTooltip) &#123;
    &lt;div class="tooltip"&gt;Texto del tooltip&lt;/div&gt;
  &#125;
&lt;/div&gt;</code></pre>
      <h4>CSS para tooltips puros:</h4>
      <pre><code>.tooltip-css:hover::after &#123;
  content: attr(data-tooltip);
  position: absolute;
  /* Estilos... */
&#125;</code></pre>
    </div>
  </section>

  <!-- Resumen -->
  <section class="seccion resumen">
    <h2>üìö Resumen de Componentes Interactivos</h2>
    <div class="resumen-grid">
      <div class="resumen-card">
        <h4>üçî Men√∫ Hamburguesa</h4>
        <ul>
          <li>Variable booleana <code>isOpen</code></li>
          <li>Toggle con <code>(click)</code></li>
          <li>Cierre con <code>@HostListener('document:click')</code></li>
          <li>Animaciones CSS para apertura</li>
          <li>Overlay para oscurecer fondo</li>
        </ul>
      </div>

      <div class="resumen-card">
        <h4>ü™ü Modales</h4>
        <ul>
          <li>Control con <code>isModalOpen</code></li>
          <li>Backdrop clickeable</li>
          <li>Cierre con ESC: <code>@HostListener('keydown.escape')</code></li>
          <li>Bot√≥n de cerrar (‚úï)</li>
          <li>Animaci√≥n de entrada</li>
        </ul>
      </div>

      <div class="resumen-card">
        <h4>üìë Tabs</h4>
        <ul>
          <li>Variable <code>activeTab</code></li>
          <li>M√©todo <code>selectTab(id)</code></li>
          <li>Clases condicionales: <code>[class.active]</code></li>
          <li>Contenido con <code>&#64;if</code> o <code>*ngIf</code></li>
          <li>Transiciones suaves</li>
        </ul>
      </div>

      <div class="resumen-card">
        <h4>üí¨ Tooltips</h4>
        <ul>
          <li>Eventos: <code>(mouseenter)</code>, <code>(mouseleave)</code></li>
          <li>CSS puro con <code>:hover</code></li>
          <li>Posicionamiento: <code>position: absolute</code></li>
          <li>M√∫ltiples posiciones (top, right, bottom, left)</li>
          <li>Animaciones de aparici√≥n</li>
        </ul>
      </div>
    </div>
  </section>
</div>
